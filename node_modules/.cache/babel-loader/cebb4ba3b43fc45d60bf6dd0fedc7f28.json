{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\visao\\\\OneDrive\\\\Desktop\\\\SWP_FE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\visao\\\\OneDrive\\\\Desktop\\\\SWP_FE\\\\src\\\\BodyContent\\\\LoginBar.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport GoogleLogin from 'react-google-login';\nimport './LoginBar.css';\nexport default function LoginBar() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isLoggedIn = _useState8[0],\n    setIsLoggedIn = _useState8[1]; // Thêm biến trạng thái đăng nhập thành công\n  var handleEmailChange = function handleEmailChange(e) {\n    setEmail(e.target.value);\n  };\n  var handlePasswordChange = function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  };\n  var handleLogout = function handleLogout() {\n    // Thực hiện các hành động cần thiết khi logout\n    setIsLoggedIn(false); // Cập nhật trạng thái đăng nhập thành công\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var data = {\n      email: email,\n      password: password\n    };\n    axios.post('https://dencelclinic.onrender.com/api/auth/login', data).then(function (response) {\n      console.log(response.data);\n      setIsLoggedIn(true); // Cập nhật trạng thái đăng nhập thành công\n    }).catch(function (error) {\n      if (error.response) {\n        setErrorMessage(error.response.data.message);\n      } else {\n        setErrorMessage('An error occurred. Please try again later.');\n      }\n    });\n  };\n  var handleGoogleLoginSuccess = function handleGoogleLoginSuccess(response) {\n    // Xử lý thành công khi đăng nhập bằng tài khoản Google\n    // Gửi thông tin đăng nhập thành công lên server hoặc thực hiện hành động khác\n    console.log(response);\n  };\n  var handleGoogleLoginFailure = function handleGoogleLoginFailure(error) {\n    // Xử lý khi đăng nhập bằng tài khoản Google thất bại\n    console.log(error);\n  };\n  if (isLoggedIn) {\n    // Hiển thị khi đã đăng nhập thành công\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"Xin ch\\xE0o! B\\u1EA1n \\u0111\\xE3 \\u0111\\u0103ng nh\\u1EADp th\\xE0nh c\\xF4ng.\", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Logout\"));\n  } else {\n    // Hiển thị form đăng nhập\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      id: \"email\",\n      value: email,\n      onChange: handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      id: \"password\",\n      value: password,\n      onChange: handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    })), errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 34\n      }\n    }, errorMessage), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \"\\u0110\\u0103ng k\\xFD t\\xE0i kho\\u1EA3n\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"YOUR_GOOGLE_CLIENT_ID\",\n      buttonText: \" \\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google\",\n      onSuccess: handleGoogleLoginSuccess,\n      onFailure: handleGoogleLoginFailure,\n      cookiePolicy: 'single_host_origin',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    })));\n  }\n}","map":{"version":3,"names":["React","useState","Link","axios","GoogleLogin","LoginBar","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","isLoggedIn","setIsLoggedIn","handleEmailChange","e","target","value","handlePasswordChange","handleLogout","handleSubmit","preventDefault","data","post","then","response","console","log","catch","error","message","handleGoogleLoginSuccess","handleGoogleLoginFailure","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","onSubmit","htmlFor","type","placeholder","id","onChange","href","clientId","buttonText","onSuccess","onFailure","cookiePolicy"],"sources":["C:/Users/visao/OneDrive/Desktop/SWP_FE/src/BodyContent/LoginBar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport GoogleLogin from 'react-google-login';\nimport './LoginBar.css';\n\nexport default function LoginBar() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const [isLoggedIn, setIsLoggedIn] = useState(false); // Thêm biến trạng thái đăng nhập thành công\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleLogout = () => {\n        // Thực hiện các hành động cần thiết khi logout\n        setIsLoggedIn(false); // Cập nhật trạng thái đăng nhập thành công\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const data = {\n            email: email,\n            password: password\n        };\n\n        axios.post('https://dencelclinic.onrender.com/api/auth/login', data)\n            .then((response) => {\n                console.log(response.data);\n                setIsLoggedIn(true); // Cập nhật trạng thái đăng nhập thành công\n            })\n            .catch((error) => {\n                if (error.response) {\n                    setErrorMessage(error.response.data.message);\n                } else {\n                    setErrorMessage('An error occurred. Please try again later.');\n                }\n            });\n    };\n\n    const handleGoogleLoginSuccess = (response) => {\n        // Xử lý thành công khi đăng nhập bằng tài khoản Google\n        // Gửi thông tin đăng nhập thành công lên server hoặc thực hiện hành động khác\n        console.log(response);\n    };\n\n    const handleGoogleLoginFailure = (error) => {\n        // Xử lý khi đăng nhập bằng tài khoản Google thất bại\n        console.log(error);\n    };\n\n    if (isLoggedIn) {\n        // Hiển thị khi đã đăng nhập thành công\n        return (\n            <div>\n                Xin chào! Bạn đã đăng nhập thành công.\n                <button onClick={handleLogout}>Logout</button>\n            </div>\n        );\n    } else {\n        // Hiển thị form đăng nhập\n        return (\n            <form className='login-form' onSubmit={handleSubmit}>\n                <h3>Đăng nhập</h3>\n\n                <div className='form-group'>\n                    <label htmlFor='email'></label>\n                    <input\n                        type='email'\n                        placeholder='Email'\n                        id='email'\n                        value={email}\n                        onChange={handleEmailChange}\n                    />\n                </div>\n\n                <div className='form-group'>\n                    <label htmlFor='password'></label>\n                    <input\n                        type='password'\n                        placeholder='Password'\n                        id='password'\n                        value={password}\n                        onChange={handlePasswordChange}\n                    />\n                </div>\n\n                {errorMessage && <p className='error-message'>{errorMessage}</p>}\n\n                <button type='submit'>Đăng nhập</button>\n\n                <div className='login-links'>\n                    <a href=\"/register\">Đăng ký tài khoản</a>\n                    <a href=\"/forgot-password\">Quên mật khẩu</a>\n                </div>\n\n                <div className='social'>\n                    <GoogleLogin\n                        clientId='YOUR_GOOGLE_CLIENT_ID'\n                        buttonText=' Đăng nhập bằng Google'\n                        onSuccess={handleGoogleLoginSuccess}\n                        onFailure={handleGoogleLoginFailure}\n                        cookiePolicy={'single_host_origin'}\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}